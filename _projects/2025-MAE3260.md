---
layout: project
title: 2D Sailboat Control
description: Implementation of a sailboat control algorithm for heading
technologies: [MATLAB, Controls]
image: /assets/images/radio-machine-cad.jpg
---

This project was an implemention and expansion beyond the waypoint guidance system developed in the paper *Control Algorithms for a Sailboat Robot with a Sea Experiment* by B. Clement. 

The system takes on the wind direction and magnitude as the input and then adjusts the rudder and sails to align the heading along the and maximize the useful force.

<p align="center">
  <img src="../assets/images/2025-MAE3260/System Diagram.png" width="15%">
</p>

<p align="center">
  <img src="../assets/images/2025-MAE3260/System Parameters.png" width="50%">
</p>

<p align="center">
  <img src="../assets/images/2025-MAE3260/Control Law.png" width="40%">
</p>

I was responsible for developing the input wind, and did so by using a Dryden Wind Turbulence Model on top of a mean wind and direction. The Dryden Model implementation was inspired by *Wind Measurement and Simulation Techniques in Multi-Rotor Small Unmanned Aerial Vehicles*, but simplified for a 2D model. 

<div align="center">
Inputs
</div>

| Parameter | Definition | Rationale |
|----------|------------|-----------|
| seed     | The grounding point for a random number generator | Repeatable random outputs for testing |
| N        | The number of cycles to run the model for | To set the length of the simulation |
| dt       | The time between cycles | To define the quality of the simulation |
| u_base   | The speed of the base wind | The basis for the boat propulsion and turbulence intensity |
| TI       | The ratio of the turbulence RMS speed to the mean wind speed | Rather than having a separate value for the velocity of the turbulence, we use the ratio to ground the value. |
| L_u      | The length scale of the longitudinal turbulence | The length scale determines how fast fluctuations evolve. The longitudinal and cross-wind are separate because they have different typical ranges and are encoded differently in the Dryden model. |
| L_v      | The length scale of the cross-wind turbulence | – |

<div align="center">
Outputs
</div>

| Parameter | Definition | Rationale |
|----------|------------|-----------|
| u_turb   | Longitudinal turbulence | Isolating the two turbulences from the base wind speed can help separate the disturbance from the input. |
| v_turb   | Cross-wind turbulence | – |

It’s quite a lot to include for the purpose of this group work, but the Dryden Model is provided as a power spectral density function, but can be rewritten as an ODE by rewriting the PSD as a transfer function. 

<div align="center">

$$
\Phi(\omega) = \lvert G(j\omega) \rvert^{2}
$$

</div>

From the transfer functions, we can obtain the ODEs for the longitudinal and cross-wind ODEs:

<div align="center">

$$
\frac{du}{dt}
= -\frac{u_{\text{mean}}}{L_u}\,u
+ \sigma_u \sqrt{\frac{2u_{\text{mean}}}{L_u}}\, w(t)
$$

$$
\frac{d^{2}v}{dt^{2}}
+ 2\left(\frac{u_{\text{base}}}{L_v}\right)\frac{dv}{dt}
+ \left(\frac{u_{\text{base}}}{L_v}\right)^{2}v
= \sigma_v \sqrt{\frac{3u_{\text{mean}}}{L_v}}\, w(t)
$$

</div>

These ODEs then get integrated over the periods that are defined by N and dt for the outputs.

As an example, given the inputs of N = 300, dt = 0.1 seconds, Ubase = 5, thetabase = 100 degrees, TI = 0.1, Lu = 100, Lv = 50, seed = 100000

<p align="center">
  <img src="../assets/images/2025-MAE3260/Wind Distribution.png" width="60%">
</p>


The constraints are applied to the system based on the physical limitations of the system and the desired performance goals. Some headings are physically unrealizable, and those had to be integrated into the MATLAB code so as not to output meaningless results. 
Our results showed that with favorable wind conditions, we were able to follow the target line within a meter or less. We would like to perform more studies to understand the particular distribution of the error map, but in general, the closer we were to sailing in the direction of the wind, the less error there was in the system. We also saw that there was an oscillation about the target line, indicating that some additional damping or modification of the lambda term (which controls the return to the line much like a PID controller) was necessary.

<p align="center">
  <img src="../assets/images/2025-MAE3260/Result Path.png" width="60%">
</p>

<p align="center">
  <img src="../assets/images/2025-MAE3260/Result Error.png" width="60%">
</p>


